/** Minimized by W3plan Technologies */
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){a.defineMode("xml",function(m,g){function k(b,c){function a(d){c.tokenize=d;return d(b,c)}var d=b.next();if("<"==d){if(b.eat("!"))return b.eat("[")?b.match("CDATA[")?a(h("atom","]]\x3e")):null:b.match("--")?a(h("comment","--\x3e")):b.match("DOCTYPE",!0,!0)?(b.eatWhile(/[\w\._\-]/),a(f(1))):null;if(b.eat("?"))return b.eatWhile(/[\w\._\-]/),
c.tokenize=h("meta","?>"),"meta";B=b.eat("/")?"closeTag":"openTag";c.tokenize=l;return"tag bracket"}if("&"==d)return(b.eat("#")?b.eat("x")?b.eatWhile(/[a-fA-F\d]/)&&b.eat(";"):b.eatWhile(/[\d]/)&&b.eat(";"):b.eatWhile(/[\w\.\-:]/)&&b.eat(";"))?"atom":"error";b.eatWhile(/[^&<]/);return null}function l(c,a){var e=c.next();if(">"==e||"/"==e&&c.eat(">"))return a.tokenize=k,B=">"==e?"endTag":"selfcloseTag","tag bracket";if("="==e)return B="equals",null;if("<"==e)return a.tokenize=k,a.state=b,a.tagName=
a.tagStart=null,(e=a.tokenize(c,a))?e+" tag error":"tag error";if(/[\'\"]/.test(e))return a.tokenize=d(e),a.stringStartCol=c.column(),a.tokenize(c,a);c.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}function d(b){var c=function(c,a){for(;!c.eol();)if(c.next()==b){a.tokenize=l;break}return"string"};c.isInAttribute=!0;return c}function h(b,c){return function(a,d){for(;!a.eol();){if(a.match(c)){d.tokenize=k;break}a.next()}return b}}function f(b){return function(c,a){for(var d;null!=(d=
c.next());){if("<"==d)return a.tokenize=f(b+1),a.tokenize(c,a);if(">"==d)if(1==b){a.tokenize=k;break}else return a.tokenize=f(b-1),a.tokenize(c,a)}return"meta"}}function u(b,c,a){this.prev=b.context;this.tagName=c;this.indent=b.indented;this.startOfLine=a;if(A.doNotIndent.hasOwnProperty(c)||b.context&&b.context.noIndent)this.noIndent=!0}function e(b){b.context&&(b.context=b.context.prev)}function q(b,c){for(var a;b.context;){a=b.context.tagName;if(!A.contextGrabbers.hasOwnProperty(a)||!A.contextGrabbers[a].hasOwnProperty(c))break;
e(b)}}function b(a,d,e){return"openTag"==a?(e.tagStart=d.column(),c):"closeTag"==a?s:b}function c(b,a,d){if("word"==b)return d.tagName=a.current(),y="tag",p;y="error";return c}function s(b,c,a){if("word"==b){b=c.current();a.context&&a.context.tagName!=b&&A.implicitlyClosed.hasOwnProperty(a.context.tagName)&&e(a);if(a.context&&a.context.tagName==b)return y="tag",t;y="tag error";return n}y="error";return n}function t(c,a,d){if("endTag"!=c)return y="error",t;e(d);return b}function n(b,c,a){y="error";
return t(b,c,a)}function p(c,a,d){if("word"==c)return y="attribute",v;if("endTag"==c||"selfcloseTag"==c){a=d.tagName;var e=d.tagStart;d.tagName=d.tagStart=null;"selfcloseTag"==c||A.autoSelfClosers.hasOwnProperty(a)?q(d,a):(q(d,a),d.context=new u(d,a,e==d.indented));return b}y="error";return p}function v(b,c,a){if("equals"==b)return x;A.allowMissing||(y="error");return p(b,c,a)}function x(b,c,a){if("string"==b)return w;if("word"==b&&A.allowUnquoted)return y="string",p;y="error";return p(b,c,a)}function w(b,
c,a){return"string"==b?w:p(b,c,a)}var z=m.indentUnit,N=g.multilineTagIndentFactor||1,D=g.multilineTagIndentPastTag;null==D&&(D=!0);var A=g.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,
optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},
contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},E=g.alignCDATA,B,y;return{startState:function(){return{tokenize:k,state:b,indented:0,tagName:null,tagStart:null,context:null}},token:function(b,c){!c.tagName&&b.sol()&&(c.indented=b.indentation());if(b.eatSpace())return null;B=null;var a=c.tokenize(b,c);(a||B)&&"comment"!=a&&(y=null,c.state=c.state(B||a,b,c),y&&(a="error"==y?a+" error":y));return a},indent:function(b,c,d){var e=b.context;if(b.tokenize.isInAttribute)return b.tagStart==
b.indented?b.stringStartCol+1:b.indented+z;if(e&&e.noIndent)return a.Pass;if(b.tokenize!=l&&b.tokenize!=k)return d?d.match(/^(\s*)/)[0].length:0;if(b.tagName)return D?b.tagStart+b.tagName.length+2:b.tagStart+z*N;if(E&&/<!\[CDATA\[/.test(c))return 0;if((b=c&&/^<(\/)?([\w_:\.-]*)/.exec(c))&&b[1])for(;e;)if(e.tagName==b[2]){e=e.prev;break}else if(A.implicitlyClosed.hasOwnProperty(e.tagName))e=e.prev;else break;else if(b)for(;e;)if((c=A.contextGrabbers[e.tagName])&&c.hasOwnProperty(b[2]))e=e.prev;else break;
for(;e&&!e.startOfLine;)e=e.prev;return e?e.indent+z:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:g.htmlMode?"html":"xml",helperType:g.htmlMode?"html":"xml"}});a.defineMIME("text/xml","xml");a.defineMIME("application/xml","xml");a.mimeModes.hasOwnProperty("text/html")||a.defineMIME("text/html",{name:"xml",htmlMode:!0})});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){a.defineMode("javascript",function(m,g){function k(b,c,a){J=b;O=a;return c}function l(b,c){var a=b.next();if('"'==a||"'"==a)return c.tokenize=d(a),c.tokenize(b,c);if("."==a&&b.match(/^\d+(?:[eE][+\-]?\d+)?/))return k("number","number");if("."==a&&b.match(".."))return k("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(a))return k(a);
if("="==a&&b.eat(">"))return k("=>","operator");if("0"==a&&b.eat(/x/i))return b.eatWhile(/[\da-f]/i),k("number","number");if(/\d/.test(a))return b.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),k("number","number");if("/"==a){if(b.eat("*"))return c.tokenize=h,h(b,c);if(b.eat("/"))return b.skipToEnd(),k("comment","comment");if("operator"==c.lastType||"keyword c"==c.lastType||"sof"==c.lastType||/^[\[{}\(,;:]$/.test(c.lastType)){a:for(var a=!1,e,n=!1;null!=(e=b.next());){if(!a){if("/"==e&&!n)break a;"["==
e?n=!0:n&&"]"==e&&(n=!1)}a=!a&&"\\"==e}b.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return k("regexp","string-2")}b.eatWhile(P);return k("operator","operator",b.current())}if("`"==a)return c.tokenize=f,f(b,c);if("#"==a)return b.skipToEnd(),k("error","error");if(P.test(a))return b.eatWhile(P),k("operator","operator",b.current());if(T.test(a))return b.eatWhile(T),a=b.current(),(e=ba.propertyIsEnumerable(a)&&ba[a])&&"."!=c.lastType?k(e.type,e.style,a):k("variable","variable",a)}function d(b){return function(c,
a){var d=!1,e;if(Q&&"@"==c.peek()&&c.match(ma))return a.tokenize=l,k("jsonld-keyword","meta");for(;null!=(e=c.next())&&(e!=b||d);)d=!d&&"\\"==e;d||(a.tokenize=l);return k("string","string")}}function h(b,c){for(var a=!1,d;d=b.next();){if("/"==d&&a){c.tokenize=l;break}a="*"==d}return k("comment","comment")}function f(b,c){for(var a=!1,d;null!=(d=b.next());){if(!a&&("`"==d||"$"==d&&b.eat("{"))){c.tokenize=l;break}a=!a&&"\\"==d}return k("quasi","string-2",b.current())}function u(b,c){c.fatArrowAt&&(c.fatArrowAt=
null);var a=b.string.indexOf("=>",b.start);if(!(0>a)){for(var d=0,e=!1,a=a-1;0<=a;--a){var n=b.string.charAt(a),f=na.indexOf(n);if(0<=f&&3>f){if(!d){++a;break}if(0==--d)break}else if(3<=f&&6>f)++d;else if(T.test(n))e=!0;else{if(/["'\/]/.test(n))return;if(e&&!d){++a;break}}}e&&!d&&(c.fatArrowAt=a)}}function e(b,c,a,d,e,f){this.indented=b;this.column=c;this.type=a;this.prev=e;this.info=f;null!=d&&(this.align=d)}function q(){for(var b=arguments.length-1;0<=b;b--)r.cc.push(arguments[b])}function b(){q.apply(null,
arguments);return!0}function c(b){function c(a){for(;a;a=a.next)if(a.name==b)return!0;return!1}var a=r.state;a.context?(r.marked="def",c(a.localVars)||(a.localVars={name:b,next:a.localVars})):!c(a.globalVars)&&g.globalVars&&(a.globalVars={name:b,next:a.globalVars})}function s(){r.state.context={prev:r.state.context,vars:r.state.localVars};r.state.localVars=oa}function t(){r.state.localVars=r.state.context.vars;r.state.context=r.state.context.prev}function n(b,a){var c=function(){var c=r.state,d=c.indented;
if("stat"==c.lexical.type)d=c.lexical.indented;else for(var f=c.lexical;f&&")"==f.type&&f.align;f=f.prev)d=f.indented;c.lexical=new e(d,r.stream.column(),b,null,c.lexical,a)};c.lex=!0;return c}function p(){var b=r.state;b.lexical.prev&&(")"==b.lexical.type&&(b.indented=b.lexical.indented),b.lexical=b.lexical.prev)}function v(c){function a(d){return d==c?b():";"==c?q():b(a)}return a}function x(c,a){return"var"==c?b(n("vardef",a.length),U,v(";"),p):"keyword a"==c?b(n("form"),w,x,p):"keyword b"==c?b(n("form"),
x,p):"{"==c?b(n("}"),V,p):";"==c?b():"if"==c?("else"==r.state.lexical.info&&r.state.cc[r.state.cc.length-1]==p&&r.state.cc.pop()(),b(n("form"),w,x,p,ca)):"function"==c?b(C):"for"==c?b(n("form"),da,x,p):"variable"==c?b(n("stat"),la):"switch"==c?b(n("form"),w,n("}","switch"),v("{"),V,p,p):"case"==c?b(w,v(":")):"default"==c?b(v(":")):"catch"==c?b(n("form"),s,v("("),W,v(")"),x,p,t):"module"==c?b(n("form"),s,pa,t,p):"class"==c?b(n("form"),qa,p):"export"==c?b(n("form"),ra,p):"import"==c?b(n("form"),sa,
p):q(n("stat"),w,v(";"),p)}function w(b){return N(b,!1)}function z(b){return N(b,!0)}function N(c,a){if(r.state.fatArrowAt==r.stream.start){var d=a?aa:$;if("("==c)return b(s,n(")"),K(F,")"),p,v("=>"),d,t);if("variable"==c)return q(s,F,v("=>"),d,t)}d=a?B:E;return ta.hasOwnProperty(c)?b(d):"function"==c?b(C,d):"keyword c"==c?b(a?A:D):"("==c?b(n(")"),D,R,v(")"),p,d):"operator"==c||"spread"==c?b(a?z:w):"["==c?b(n("]"),ua,p,d):"{"==c?L(va,"}",null,d):"quasi"==c?q(y,d):b()}function D(b){return b.match(/[;\}\)\],]/)?
q():q(w)}function A(b){return b.match(/[;\}\)\],]/)?q():q(z)}function E(c,a){return","==c?b(w):B(c,a,!1)}function B(c,a,d){var e=!1==d?E:B,f=!1==d?w:z;if("=>"==c)return b(s,d?aa:$,t);if("operator"==c)return/\+\+|--/.test(a)?b(e):"?"==a?b(w,v(":"),f):b(f);if("quasi"==c)return q(y,e);if(";"!=c){if("("==c)return L(z,")","call",e);if("."==c)return b(ka,e);if("["==c)return b(n("]"),D,v("]"),p,e)}}function y(c,a){return"quasi"!=c?q():"${"!=a.slice(a.length-2)?b(y):b(w,ja)}function ja(c){if("}"==c)return r.marked=
"string-2",r.state.tokenize=f,b(y)}function $(b){u(r.stream,r.state);return q("{"==b?x:w)}function aa(b){u(r.stream,r.state);return q("{"==b?x:z)}function la(c){return":"==c?b(p,x):q(E,v(";"),p)}function ka(c){if("variable"==c)return r.marked="property",b()}function va(c,a){if("variable"==c||"keyword"==r.style)return r.marked="property","get"==a||"set"==a?b(wa):b(M);if("number"==c||"string"==c)return r.marked=Q?"property":r.style+" property",b(M);if("jsonld-keyword"==c)return b(M);if("["==c)return b(w,
v("]"),M)}function wa(c){if("variable"!=c)return q(M);r.marked="property";return b(C)}function M(c){if(":"==c)return b(z);if("("==c)return q(C)}function K(c,a){function d(e){return","==e?(e=r.state.lexical,"call"==e.info&&(e.pos=(e.pos||0)+1),b(c,d)):e==a?b():b(v(a))}return function(e){return e==a?b():q(c,d)}}function L(c,a,d){for(var e=3;e<arguments.length;e++)r.cc.push(arguments[e]);return b(n(a,d),K(c,a),p)}function V(c){return"}"==c?b():q(x,V)}function ea(c){if(fa&&":"==c)return b(xa)}function xa(c){if("variable"==
c)return r.marked="variable-3",b()}function U(){return q(F,ea,X,ya)}function F(a,d){if("variable"==a)return c(d),b();if("["==a)return L(F,"]");if("{"==a)return L(za,"}")}function za(a,d){if("variable"==a&&!r.stream.match(/^\s*:/,!1))return c(d),b(X);"variable"==a&&(r.marked="property");return b(v(":"),F,X)}function X(c,a){if("="==a)return b(z)}function ya(c){if(","==c)return b(U)}function ca(c,a){if("keyword b"==c&&"else"==a)return b(n("form","else"),x,p)}function da(c){if("("==c)return b(n(")"),
Aa,v(")"),p)}function Aa(c){return"var"==c?b(U,v(";"),S):";"==c?b(S):"variable"==c?b(Ba):q(w,v(";"),S)}function Ba(c,a){return"in"==a||"of"==a?(r.marked="keyword",b(w)):b(E,S)}function S(c,a){return";"==c?b(ga):"in"==a||"of"==a?(r.marked="keyword",b(w)):q(w,v(";"),ga)}function ga(c){")"!=c&&b(w)}function C(a,d){if("*"==d)return r.marked="keyword",b(C);if("variable"==a)return c(d),b(C);if("("==a)return b(s,n(")"),K(W,")"),p,x,t)}function W(c){return"spread"==c?b(W):q(F,ea)}function qa(a,d){if("variable"==
a)return c(d),b(ha)}function ha(c,a){if("extends"==a)return b(w,ha);if("{"==c)return b(n("}"),G,p)}function G(c,a){if("variable"==c||"keyword"==r.style){if("static"==a)return r.marked="keyword",b(G);r.marked="property";return"get"==a||"set"==a?b(Ca,C,G):b(C,G)}if("*"==a)return r.marked="keyword",b(G);if(";"==c)return b(G);if("}"==c)return b()}function Ca(c){if("variable"!=c)return q();r.marked="property";return b()}function pa(a,d){if("string"==a)return b(x);if("variable"==a)return c(d),b(Y)}function ra(c,
a){return"*"==a?(r.marked="keyword",b(Y,v(";"))):"default"==a?(r.marked="keyword",b(w,v(";"))):q(x)}function sa(c){return"string"==c?b():q(Z,Y)}function Z(a,d){if("{"==a)return L(Z,"}");"variable"==a&&c(d);"*"==d&&(r.marked="keyword");return b(Da)}function Da(c,a){if("as"==a)return r.marked="keyword",b(Z)}function Y(c,a){if("from"==a)return r.marked="keyword",b(w)}function ua(c){return"]"==c?b():q(z,Ea)}function Ea(c){return"for"==c?q(R,v("]")):","==c?b(K(A,"]")):q(K(z,"]"))}function R(c){if("for"==
c)return b(da,R);if("if"==c)return b(w,R)}var H=m.indentUnit,ia=g.statementIndent,Q=g.jsonld,I=g.json||Q,fa=g.typescript,T=g.wordCharacters||/[\w$\xa1-\uffff]/,ba=function(){function c(b){return{type:b,style:"keyword"}}var b=c("keyword a"),a=c("keyword b"),d=c("keyword c"),e=c("operator"),f={type:"atom",style:"atom"},b={"if":c("if"),"while":b,"with":b,"else":a,"do":a,"try":a,"finally":a,"return":d,"break":d,"continue":d,"new":d,"delete":d,"throw":d,"debugger":d,"var":c("var"),"const":c("var"),let:c("var"),
"function":c("function"),"catch":c("catch"),"for":c("for"),"switch":c("switch"),"case":c("case"),"default":c("default"),"in":e,"typeof":e,"instanceof":e,"true":f,"false":f,"null":f,undefined:f,NaN:f,Infinity:f,"this":c("this"),module:c("module"),"class":c("class"),"super":c("atom"),yield:d,"export":c("export"),"import":c("import"),"extends":d};if(fa){var a={type:"variable",style:"variable-3"},a={"interface":c("interface"),"extends":c("extends"),constructor:c("constructor"),"public":c("public"),"private":c("private"),
"protected":c("protected"),"static":c("static"),string:a,number:a,bool:a,any:a},n;for(n in a)b[n]=a[n]}return b}(),P=/[+\-*&%=<>!?|~^]/,ma=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,J,O,na="([{}])",ta={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},r={state:null,column:null,marked:null,cc:null},oa={name:"this",next:{name:"arguments"}};p.lex=!0;return{startState:function(c){c={tokenize:l,lastType:"sof",cc:[],lexical:new e((c||
0)-H,0,"block",!1),localVars:g.localVars,context:g.localVars&&{vars:g.localVars},indented:0};g.globalVars&&"object"==typeof g.globalVars&&(c.globalVars=g.globalVars);return c},token:function(c,b){c.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=c.indentation(),u(c,b));if(b.tokenize!=h&&c.eatSpace())return null;var a=b.tokenize(c,b);if("comment"==J)return a;b.lastType="operator"!=J||"++"!=O&&"--"!=O?J:"incdec";a:{var d=J,e=O,f=b.cc;r.state=b;r.stream=c;r.marked=null;r.cc=
f;r.style=a;b.lexical.hasOwnProperty("align")||(b.lexical.align=!0);for(;;)if((f.length?f.pop():I?w:x)(d,e)){for(;f.length&&f[f.length-1].lex;)f.pop()();if(r.marked){a=r.marked;break a}if(d="variable"==d)b:{for(d=b.localVars;d;d=d.next)if(d.name==e){d=!0;break b}for(f=b.context;f;f=f.prev)for(d=f.vars;d;d=d.next)if(d.name==e){d=!0;break b}d=void 0}if(d){a="variable-2";break a}break a}a=void 0}return a},indent:function(c,b){if(c.tokenize==h)return a.Pass;if(c.tokenize!=l)return 0;var d=b&&b.charAt(0),
e=c.lexical;if(!/^\s*else\b/.test(b))for(var f=c.cc.length-1;0<=f;--f){var n=c.cc[f];if(n==p)e=e.prev;else if(n!=ca)break}"stat"==e.type&&"}"==d&&(e=e.prev);ia&&")"==e.type&&"stat"==e.prev.type&&(e=e.prev);f=e.type;n=d==f;return"vardef"==f?e.indented+("operator"==c.lastType||","==c.lastType?e.info+1:0):"form"==f&&"{"==d?e.indented:"form"==f?e.indented+H:"stat"==f?e.indented+("operator"==c.lastType||","==c.lastType||P.test(b.charAt(0))||/[,.]/.test(b.charAt(0))?ia||H:0):"switch"!=e.info||n||!1==g.doubleIndentSwitch?
e.align?e.column+(n?0:1):e.indented+(n?0:H):e.indented+(/^(?:case|default)\b/.test(b)?H:2*H)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:I?null:"/*",blockCommentEnd:I?null:"*/",lineComment:I?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:I?"json":"javascript",jsonldMode:Q,jsonMode:I}});a.registerHelper("wordChars","javascript",/[\w$]/);a.defineMIME("text/javascript","javascript");a.defineMIME("text/ecmascript","javascript");a.defineMIME("application/javascript",
"javascript");a.defineMIME("application/x-javascript","javascript");a.defineMIME("application/ecmascript","javascript");a.defineMIME("application/json",{name:"javascript",json:!0});a.defineMIME("application/x-json",{name:"javascript",json:!0});a.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});a.defineMIME("text/typescript",{name:"javascript",typescript:!0});a.defineMIME("application/typescript",{name:"javascript",typescript:!0})});
CodeMirror.defineMode("htmlmixed",function(a){function m(a,e){var q=d.token(a,e.htmlState);/(?:^|\s)tag(?:\s|$)/.test(q)&&">"==a.current()&&e.htmlState.context&&(/^script$/i.test(e.htmlState.context.tagName)?(e.token=k,e.localState=h.startState(d.indent(e.htmlState,""))):/^style$/i.test(e.htmlState.context.tagName)&&(e.token=l,e.localState=f.startState(d.indent(e.htmlState,""))));return q}function g(a,d,f){var b=a.current(),c=b.search(d);-1<c?a.backUp(b.length-c):b.match(/<\/?$/)&&(a.backUp(b.length),
a.match(d,!1)||a.match(b[0]));return f}function k(a,d){return a.match(/^<\/\s*script\s*>/i,!1)?(d.token=m,d.localState=null,m(a,d)):g(a,/<\/\s*script\s*>/,h.token(a,d.localState))}function l(a,d){return a.match(/^<\/\s*style\s*>/i,!1)?(d.token=m,d.localState=null,m(a,d)):g(a,/<\/\s*style\s*>/,f.token(a,d.localState))}var d=CodeMirror.getMode(a,{name:"xml",htmlMode:!0}),h=CodeMirror.getMode(a,"javascript"),f=CodeMirror.getMode(a,"css");return{startState:function(){var a=d.startState();return{token:m,
localState:null,mode:"html",htmlState:a}},copyState:function(a){if(a.localState)var e=CodeMirror.copyState(a.token==l?f:h,a.localState);return{token:a.token,localState:e,mode:a.mode,htmlState:CodeMirror.copyState(d,a.htmlState)}},token:function(a,d){return d.token(a,d)},indent:function(a,e){return a.token==m||/^\s*<\//.test(e)?d.indent(a.htmlState,e):a.token==k?h.indent(a.localState,e):f.indent(a.localState,e)},electricChars:"/{}:",innerMode:function(a){return{state:a.localState||a.htmlState,mode:a.token==
m?d:a.token==k?h:f}}}},"xml","javascript","css");CodeMirror.defineMIME("text/html","htmlmixed");
(function(){CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(a,m){return/^[;{}]$/.test(m)}});CodeMirror.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(a,m,g,k){return this.jsonMode?/^[\[,{]$/.test(m)||/^}/.test(g):";"==m&&k.lexical&&")"==k.lexical.type?!1:/^[;{}]$/.test(m)&&!/^;/.test(g)}});CodeMirror.extendMode("xml",{commentStart:"\x3c!--",commentEnd:"--\x3e",newlineAfterToken:function(a,m,g){return"tag"==a&&/>$/.test(m)||
/^</.test(g)}});CodeMirror.defineExtension("commentRange",function(a,m,g){var k=this,l=CodeMirror.innerMode(k.getMode(),k.getTokenAt(m).state).mode;k.operation(function(){if(a)k.replaceRange(l.commentEnd,g),k.replaceRange(l.commentStart,m),m.line==g.line&&m.ch==g.ch&&k.setCursor(m.line,m.ch+l.commentStart.length);else{var d=k.getRange(m,g),h=d.indexOf(l.commentStart),f=d.lastIndexOf(l.commentEnd);-1<h&&-1<f&&f>h&&(d=d.substr(0,h)+d.substring(h+l.commentStart.length,f)+d.substr(f+l.commentEnd.length));
k.replaceRange(d,m,g)}})});CodeMirror.defineExtension("autoIndentRange",function(a,m){var g=this;this.operation(function(){for(var k=a.line;k<=m.line;k++)g.indentLine(k,"smart")})});CodeMirror.defineExtension("autoFormatRange",function(a,m){for(var g=this,k=g.getMode(),l=g.getRange(a,m).split("\n"),d=CodeMirror.copyState(k,g.getTokenAt(a).state),h=g.getOption("tabSize"),f="",u=0,e=0==a.ch,q=0;q<l.length;++q){for(var b=new CodeMirror.StringStream(l[q],h);!b.eol();){var c=CodeMirror.innerMode(k,d),
s=k.token(b,d),t=b.current();b.start=b.pos;if(!e||/\S/.test(t))f+=t,e=!1;!e&&c.mode.newlineAfterToken&&c.mode.newlineAfterToken(s,t,b.string.slice(b.pos)||l[q+1]||"",c.state)&&(f+="\n",e=!0,++u)}!b.pos&&k.blankLine&&k.blankLine(d);e||(f+="\n",e=!0,++u)}g.operation(function(){g.replaceRange(f,a,m);for(var c=a.line+1,b=a.line+u;c<=b;++c)g.indentLine(c,"smart");g.setSelection(a,g.getCursor(!1))})})})();
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){function m(a,d,b,c){var s=a.getLineHandle(d.line),t=d.ch-1,s=0<=t&&f[s.text.charAt(t)]||f[s.text.charAt(++t)];if(!s)return null;var n=">"==s.charAt(1)?1:-1;if(b&&0<n!=(t==d.ch))return null;b=a.getTokenTypeAt(h(d.line,t+1));a=g(a,h(d.line,t+(0<n?1:0)),n,b||null,c);return null==a?null:{from:h(d.line,t),
to:a&&a.pos,match:a&&a.ch==s.charAt(0),forward:0<n}}function g(a,d,b,c,s){var t=s&&s.maxScanLineLength||1E4,n=s&&s.maxScanLines||1E3,p=[];s=s&&s.bracketRegex?s.bracketRegex:/[(){}[\]]/;for(var n=0<b?Math.min(d.line+n,a.lastLine()+1):Math.max(a.firstLine()-1,d.line-n),l=d.line;l!=n;l+=b){var g=a.getLine(l);if(g){var k=0<b?0:g.length-1,m=0<b?g.length:-1;if(!(g.length>t))for(l==d.line&&(k=d.ch-(0>b?1:0));k!=m;k+=b){var u=g.charAt(k);if(s.test(u)&&(void 0===c||a.getTokenTypeAt(h(l,k+1))==c))if(">"==f[u].charAt(1)==
0<b)p.push(u);else if(p.length)p.pop();else return{pos:h(l,k),ch:u}}}}return l-b==(0<b?a.lastLine():a.firstLine())?!1:null}function k(a,f,b){for(var c=a.state.matchBrackets.maxHighlightLineLength||1E3,s=[],t=a.listSelections(),n=0;n<t.length;n++){var p=t[n].empty()&&m(a,t[n].head,!1,b);if(p&&a.getLine(p.from.line).length<=c){var l=p.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(a.markText(p.from,h(p.from.line,p.from.ch+1),{className:l}));p.to&&a.getLine(p.to.line).length<=
c&&s.push(a.markText(p.to,h(p.to.line,p.to.ch+1),{className:l}))}}if(s.length)if(d&&a.state.focused&&a.focus(),b=function(){a.operation(function(){for(var c=0;c<s.length;c++)s[c].clear()})},f)setTimeout(b,800);else return b}function l(a){a.operation(function(){u&&(u(),u=null);u=k(a,!1,a.state.matchBrackets)})}var d=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),h=a.Pos,f={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},u=null;a.defineOption("matchBrackets",
!1,function(d,f,b){b&&b!=a.Init&&d.off("cursorActivity",l);f&&(d.state.matchBrackets="object"==typeof f?f:{},d.on("cursorActivity",l))});a.defineExtension("matchBrackets",function(){k(this,!0)});a.defineExtension("findMatchingBracket",function(a,d,b){return m(this,a,d,b)});a.defineExtension("scanForBracket",function(a,d,b,c){return g(this,a,d,b,c)})});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],a):a(CodeMirror)})(function(a){function m(a){a.state.tagHit&&a.state.tagHit.clear();a.state.tagOther&&a.state.tagOther.clear();a.state.tagHit=a.state.tagOther=null}function g(l){l.state.failedTagMatch=!1;l.operation(function(){m(l);if(!l.somethingSelected()){var d=l.getCursor(),h=l.getViewport();
h.from=Math.min(h.from,d.line);h.to=Math.max(d.line+1,h.to);if(d=a.findMatchingTag(l,d,h))l.state.matchBothTags&&(h="open"==d.at?d.open:d.close)&&(l.state.tagHit=l.markText(h.from,h.to,{className:"CodeMirror-matchingtag"})),(d="close"==d.at?d.open:d.close)?l.state.tagOther=l.markText(d.from,d.to,{className:"CodeMirror-matchingtag"}):l.state.failedTagMatch=!0}})}function k(a){a.state.failedTagMatch&&g(a)}a.defineOption("matchTags",!1,function(l,d,h){h&&h!=a.Init&&(l.off("cursorActivity",g),l.off("viewportChange",
k),m(l));d&&(l.state.matchBothTags="object"==typeof d&&d.bothTags,l.on("cursorActivity",g),l.on("viewportChange",k),g(l))});a.commands.toMatchingTag=function(l){var d=a.findMatchingTag(l,l.getCursor());d&&(d="close"==d.at?d.open:d.close)&&l.extendSelection(d.to,d.from)}});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],a):a(CodeMirror)})(function(a){function m(f){if(f.getOption("disableInput"))return a.Pass;for(var g=f.listSelections(),e=[],q=0;q<g.length;q++){if(!g[q].empty())return a.Pass;var b=g[q].head,c=f.getTokenAt(b),s=a.innerMode(f.getMode(),c.state),t=s.state;if("xml"!=s.mode.name||!t.tagName)return a.Pass;
var n=f.getOption("autoCloseTags"),p="html"==s.mode.configuration,s="object"==typeof n&&n.dontCloseTags||p&&d,p="object"==typeof n&&n.indentTags||p&&h,n=t.tagName;c.end>b.ch&&(n=n.slice(0,n.length-c.end+b.ch));var m=n.toLowerCase();if(!n||"string"==c.type&&(c.end!=b.ch||!/[\"\']/.test(c.string.charAt(c.string.length-1))||1==c.string.length)||"tag"==c.type&&"closeTag"==t.type||c.string.indexOf("/")==c.string.length-1||s&&-1<k(s,m)||l(f,n,b,t,!0))return a.Pass;c=p&&-1<k(p,m);e[q]={indent:c,text:">"+
(c?"\n\n":"")+"</"+n+">",newPos:c?a.Pos(b.line+1,0):a.Pos(b.line,b.ch+1)}}for(q=g.length-1;0<=q;q--)b=e[q],f.replaceRange(b.text,g[q].head,g[q].anchor,"+insert"),c=f.listSelections().slice(0),c[q]={head:b.newPos,anchor:b.newPos},f.setSelections(c),b.indent&&(f.indentLine(b.newPos.line,null,!0),f.indentLine(b.newPos.line+1,null,!0))}function g(d,h){for(var e=d.listSelections(),g=[],b=h?"/":"</",c=0;c<e.length;c++){if(!e[c].empty())return a.Pass;var s=e[c].head,t=d.getTokenAt(s),n=a.innerMode(d.getMode(),
t.state),p=n.state;if(h&&("string"==t.type||"<"!=t.string.charAt(0)||t.start!=s.ch-1))return a.Pass;if("xml"!=n.mode.name)if("htmlmixed"==d.getMode().name&&"javascript"==n.mode.name)g[c]=b+"script>";else if("htmlmixed"==d.getMode().name&&"css"==n.mode.name)g[c]=b+"style>";else return a.Pass;else{if(!p.context||!p.context.tagName||l(d,p.context.tagName,s,p))return a.Pass;g[c]=b+p.context.tagName+">"}}d.replaceSelections(g);e=d.listSelections();for(c=0;c<e.length;c++)(c==e.length-1||e[c].head.line<
e[c+1].head.line)&&d.indentLine(e[c].head.line)}function k(a,d){if(a.indexOf)return a.indexOf(d);for(var e=0,h=a.length;e<h;++e)if(a[e]==d)return e;return-1}function l(d,h,e,g,b){if(!a.scanForClosingTag)return!1;var c=Math.min(d.lastLine()+1,e.line+500);e=a.scanForClosingTag(d,e,null,c);if(!e||e.tag!=h)return!1;g=g.context;for(b=b?1:0;g&&g.tagName==h;g=g.prev)++b;e=e.to;for(g=1;g<b;g++){e=a.scanForClosingTag(d,e,null,c);if(!e||e.tag!=h)return!1;e=e.to}return!0}a.defineOption("autoCloseTags",!1,function(d,
h,e){e!=a.Init&&e&&d.removeKeyMap("autoCloseTags");if(h){e={name:"autoCloseTags"};if("object"!=typeof h||h.whenClosing)e["'/'"]=function(d){d=d.getOption("disableInput")?a.Pass:g(d,!0);return d};if("object"!=typeof h||h.whenOpening)e["'>'"]=function(a){return m(a)};d.addKeyMap(e)}});var d="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),h="applet blockquote body button div dl fieldset form frameset h1 h2 h3 h4 h5 h6 head html iframe layer legend object ol p select table ul".split(" ");
a.commands.closeTag=function(a){return g(a)}});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){function m(a){a.state.placeholder&&(a.state.placeholder.parentNode.removeChild(a.state.placeholder),a.state.placeholder=null)}function g(a){m(a);var h=a.state.placeholder=document.createElement("pre");h.style.cssText="height: 0; overflow: visible";h.className="CodeMirror-placeholder";h.appendChild(document.createTextNode(a.getOption("placeholder")));
a.display.lineSpace.insertBefore(h,a.display.lineSpace.firstChild)}function k(a){1===a.lineCount()&&""===a.getLine(0)&&g(a)}function l(a){var h=a.getWrapperElement(),f=1===a.lineCount()&&""===a.getLine(0);h.className=h.className.replace(" CodeMirror-empty","")+(f?" CodeMirror-empty":"");f?g(a):m(a)}a.defineOption("placeholder","",function(d,h,f){f=f&&f!=a.Init;h&&!f?(d.on("blur",k),d.on("change",l),l(d)):!h&&f&&(d.off("blur",k),d.off("change",l),m(d),f=d.getWrapperElement(),f.className=f.className.replace(" CodeMirror-empty",
""));h&&!d.hasFocus()&&k(d)})});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){function m(d,h,f,l){function e(a){var c=m(d,h);if(!c||c.to.line-c.from.line<b)return null;for(var e=d.findMarksAt(c.from),f=0;f<e.length;++f)if(e[f].__isFold&&"fold"!==l){if(!a)return null;c.cleared=!0;e[f].clear()}return c}if(f&&f.call){var m=f;f=null}else m=k(d,f,"rangeFinder");"number"==typeof h&&(h=
a.Pos(h,0));var b=k(d,f,"minFoldSize"),c=e(!0);if(k(d,f,"scanUp"))for(;!c&&h.line>d.firstLine();)h=a.Pos(h.line-1,0),c=e(!1);if(c&&!c.cleared&&"unfold"!==l){f=g(d,f);a.on(f,"mousedown",function(c){s.clear();a.e_preventDefault(c)});var s=d.markText(c.from,c.to,{replacedWith:f,clearOnEnter:!0,__isFold:!0});s.on("clear",function(c,b){a.signal(d,"unfold",d,c,b)});a.signal(d,"fold",d,c.from,c.to)}}function g(a,h){var f=k(a,h,"widget");if("string"==typeof f){var g=document.createTextNode(f),f=document.createElement("span");
f.appendChild(g);f.className="CodeMirror-foldmarker"}return f}function k(a,h,f){return h&&void 0!==h[f]?h[f]:(a=a.options.foldOptions)&&void 0!==a[f]?a[f]:l[f]}a.newFoldFunction=function(a,h){return function(f,g){m(f,g,{rangeFinder:a,widget:h})}};a.defineExtension("foldCode",function(a,h,f){m(this,a,h,f)});a.defineExtension("isFolded",function(a){a=this.findMarksAt(a);for(var h=0;h<a.length;++h)if(a[h].__isFold)return!0});a.commands.toggleFold=function(a){a.foldCode(a.getCursor())};a.commands.fold=
function(a){a.foldCode(a.getCursor(),null,"fold")};a.commands.unfold=function(a){a.foldCode(a.getCursor(),null,"unfold")};a.commands.foldAll=function(d){d.operation(function(){for(var h=d.firstLine(),f=d.lastLine();h<=f;h++)d.foldCode(a.Pos(h,0),null,"fold")})};a.commands.unfoldAll=function(d){d.operation(function(){for(var h=d.firstLine(),f=d.lastLine();h<=f;h++)d.foldCode(a.Pos(h,0),null,"unfold")})};a.registerHelper("fold","combine",function(){var a=Array.prototype.slice.call(arguments,0);return function(h,
f){for(var g=0;g<a.length;++g){var e=a[g](h,f);if(e)return e}}});a.registerHelper("fold","auto",function(a,h){for(var f=a.getHelpers(h,"fold"),g=0;g<f.length;g++){var e=f[g](a,h);if(e)return e}});var l={rangeFinder:a.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1};a.defineOption("foldOptions",null);a.defineExtension("foldOption",function(a,h){return k(this,a,h)})});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror"),require("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],a):a(CodeMirror)})(function(a){function m(a){this.options=a;this.from=this.to=0}function g(a,c){for(var d=a.findMarksAt(q(c)),e=0;e<d.length;++e)if(d[e].__isFold&&d[e].find().from.line==c)return d[e]}function k(a){if("string"==typeof a){var c=document.createElement("div");c.className=a+" CodeMirror-guttermarker-subtle";
return c}return a.cloneNode(!0)}function l(a,c,d){var e=a.state.foldGutter.options,f=c,h=a.foldOption(e,"minFoldSize"),l=a.foldOption(e,"rangeFinder");a.eachLine(c,d,function(c){var d=null;if(g(a,f))d=k(e.indicatorFolded);else{var s=q(f,0);(s=l&&l(a,s))&&s.to.line-s.from.line>=h&&(d=k(e.indicatorOpen))}a.setGutterMarker(c,e.gutter,d);++f})}function d(a){var c=a.getViewport(),d=a.state.foldGutter;d&&(a.operation(function(){l(a,c.from,c.to)}),d.from=c.from,d.to=c.to)}function h(a,c,d){var e=a.state.foldGutter;
e&&(e=e.options,d==e.gutter&&((d=g(a,c))?d.clear():a.foldCode(q(c,0),e.rangeFinder)))}function f(a){var c=a.state.foldGutter;if(c){var e=c.options;c.from=c.to=0;clearTimeout(c.changeUpdate);c.changeUpdate=setTimeout(function(){d(a)},e.foldOnChangeTimeSpan||600)}}function u(a){var c=a.state.foldGutter;if(c){var e=c.options;clearTimeout(c.changeUpdate);c.changeUpdate=setTimeout(function(){var e=a.getViewport();c.from==c.to||20<e.from-c.to||20<c.from-e.to?d(a):a.operation(function(){e.from<c.from&&(l(a,
e.from,c.from),c.from=e.from);e.to>c.to&&(l(a,c.to,e.to),c.to=e.to)})},e.updateViewportTimeSpan||400)}}function e(a,c){var d=a.state.foldGutter;if(d){var e=c.line;e>=d.from&&e<d.to&&l(a,e,e+1)}}a.defineOption("foldGutter",!1,function(b,c,g){g&&g!=a.Init&&(b.clearGutter(b.state.foldGutter.options.gutter),b.state.foldGutter=null,b.off("gutterClick",h),b.off("change",f),b.off("viewportChange",u),b.off("fold",e),b.off("unfold",e),b.off("swapDoc",d));c&&(g=b.state,!0===c&&(c={}),null==c.gutter&&(c.gutter=
"CodeMirror-foldgutter"),null==c.indicatorOpen&&(c.indicatorOpen="CodeMirror-foldgutter-open"),null==c.indicatorFolded&&(c.indicatorFolded="CodeMirror-foldgutter-folded"),g.foldGutter=new m(c),d(b),b.on("gutterClick",h),b.on("change",f),b.on("viewportChange",u),b.on("fold",e),b.on("unfold",e),b.on("swapDoc",d))});var q=a.Pos});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){a.registerHelper("fold","brace",function(m,g){function k(c){for(var b=g.ch,e=0;;)if(b=0>=b?-1:d.lastIndexOf(c,b-1),-1==b){if(1==e)break;e=1;b=d.length}else{if(1==e&&b<g.ch)break;f=m.getTokenTypeAt(a.Pos(l,b+1));if(!/^(comment|string)/.test(f))return b+1;b-=1}}var l=g.line,d=m.getLine(l),h,f,u="{",e="}";
h=k("{");null==h&&(u="[",e="]",h=k("["));if(null!=h){var q=1,b=m.lastLine(),c,s,t=l;a:for(;t<=b;++t)for(var n=m.getLine(t),p=t==l?h:0;;){var v=n.indexOf(u,p),p=n.indexOf(e,p);0>v&&(v=n.length);0>p&&(p=n.length);p=Math.min(v,p);if(p==n.length)break;if(m.getTokenTypeAt(a.Pos(t,p+1))==f)if(p==v)++q;else if(!--q){c=t;s=p;break a}++p}if(null!=c&&(l!=c||s!=h))return{from:a.Pos(l,h),to:a.Pos(c,s)}}});a.registerHelper("fold","import",function(m,g){function k(d){if(d<m.firstLine()||d>m.lastLine())return null;
var g=m.getTokenAt(a.Pos(d,1));/\S/.test(g.string)||(g=m.getTokenAt(a.Pos(d,g.end+1)));if("keyword"!=g.type||"import"!=g.string)return null;var e=d;for(d=Math.min(m.lastLine(),d+10);e<=d;++e){var h=m.getLine(e).indexOf(";");if(-1!=h)return{startCh:g.end,end:a.Pos(e,h)}}}g=g.line;var l=k(g),d;if(!l||k(g-1)||(d=k(g-2))&&d.end.line==g-1)return null;for(d=l.end;;){var h=k(d.line+1);if(null==h)break;d=h.end}return{from:m.clipPos(a.Pos(g,l.startCh+1)),to:d}});a.registerHelper("fold","include",function(m,
g){function k(d){if(d<m.firstLine()||d>m.lastLine())return null;var f=m.getTokenAt(a.Pos(d,1));/\S/.test(f.string)||(f=m.getTokenAt(a.Pos(d,f.end+1)));if("meta"==f.type&&"#include"==f.string.slice(0,8))return f.start+8}g=g.line;var l=k(g);if(null==l||null!=k(g-1))return null;for(var d=g;null!=k(d+1);)++d;return{from:a.Pos(g,l+1),to:m.clipPos(a.Pos(d))}})});
(function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){function m(a,b,d,e){this.line=b;this.ch=d;this.cm=a;this.text=a.getLine(b);this.min=e?e.from:a.firstLine();this.max=e?e.to-1:a.lastLine()}function g(a,b){var d=a.cm.getTokenTypeAt(q(a.line,b));return d&&/\btag\b/.test(d)}function k(a){if(!(a.line>=a.max))return a.ch=0,a.text=a.cm.getLine(++a.line),!0}
function l(a){if(!(a.line<=a.min))return a.text=a.cm.getLine(--a.line),a.ch=a.text.length,!0}function d(a){for(;;){var b=a.text.indexOf(">",a.ch);if(-1==b)if(k(a))continue;else break;if(g(a,b+1)){var d=a.text.lastIndexOf("/",b),d=-1<d&&!/\S/.test(a.text.slice(d+1,b));a.ch=b+1;return d?"selfClose":"regular"}a.ch=b+1}}function h(a){for(;;){var d=a.ch?a.text.lastIndexOf("<",a.ch-1):-1;if(-1==d)if(l(a))continue;else break;if(g(a,d+1)){b.lastIndex=d;a.ch=d;var e=b.exec(a.text);if(e&&e.index==d)return e}else a.ch=
d}}function f(a){for(;;){b.lastIndex=a.ch;var d=b.exec(a.text);if(!d)if(k(a))continue;else break;if(g(a,d.index+1))return a.ch=d.index+d[0].length,d;a.ch=d.index+1}}function u(a,b){for(var e=[];;){var g=f(a),h,l=a.line,k=a.ch-(g?g[0].length:0);if(!g||!(h=d(a)))break;if("selfClose"!=h)if(g[1]){for(var m=e.length-1;0<=m;--m)if(e[m]==g[2]){e.length=m;break}if(0>m&&(!b||b==g[2]))return{tag:g[2],from:q(l,k),to:q(a.line,a.ch)}}else e.push(g[2])}}function e(a,b){for(var d=[];;){var e;a:{for(e=a;;){var f=
e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==f)if(l(e))continue;else{e=void 0;break a}if(g(e,f+1)){var k=e.text.lastIndexOf("/",f),k=-1<k&&!/\S/.test(e.text.slice(k+1,f));e.ch=f+1;e=k?"selfClose":"regular";break a}else e.ch=f}e=void 0}if(!e)break;if("selfClose"==e)h(a);else{e=a.line;f=a.ch;k=h(a);if(!k)break;if(k[1])d.push(k[2]);else{for(var m=d.length-1;0<=m;--m)if(d[m]==k[2]){d.length=m;break}if(0>m&&(!b||b==k[2]))return{tag:k[2],from:q(a.line,a.ch),to:q(e,f)}}}}}var q=a.Pos,b=RegExp("<(/?)([A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)",
"g");a.registerHelper("fold","xml",function(a,b){for(var e=new m(a,b.line,0);;){var g=f(e),h;if(!g||e.line!=b.line||!(h=d(e)))break;if(!g[1]&&"selfClose"!=h)return b=q(e.line,e.ch),(e=u(e,g[2]))&&{from:b,to:e.from}}});a.findMatchingTag=function(a,b,f){var g=new m(a,b.line,b.ch,f);if(-1!=g.text.indexOf(">")||-1!=g.text.indexOf("<")){var k=d(g),l=k&&q(g.line,g.ch),x=k&&h(g);if(k&&x&&!(0<(g.line-b.line||g.ch-b.ch))){b={from:q(g.line,g.ch),to:l,tag:x[2]};if("selfClose"==k)return{open:b,close:null,at:"open"};
if(x[1])return{open:e(g,x[2]),close:b,at:"close"};g=new m(a,l.line,l.ch,f);return{open:b,close:u(g,x[2]),at:"open"}}}};a.findEnclosingTag=function(a,b,d){for(var f=new m(a,b.line,b.ch,d);;){var g=e(f);if(!g)break;var h=new m(a,b.line,b.ch,d);if(h=u(h,g.tag))return{open:g,close:h}}};a.scanForClosingTag=function(a,b,d,e){a=new m(a,b.line,b.ch,e?{from:0,to:e}:null);return u(a,d)}});
